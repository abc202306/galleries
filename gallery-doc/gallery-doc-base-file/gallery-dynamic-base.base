filters:
  and:
    - up.containsAny(link("collection-gallery", "collection-gallery"))
    - or:
        - file.hasLink(this.file.asLink())
        - this.artist.filter(file.hasLink(value))
        - this.group.filter(file.hasLink(value))
formulas:
  filetitle: if(japanese,japanese,english)
  image01: image(cover)
  trackedtags: file("tracked-tags").links.filter(file.hasLink(value))
views:
  - type: cards
    name: Cards
    order:
      - formula.filetitle
      - formula.trackedtags
    sort:
      - property: ctime
        direction: DESC
    image: formula.image01
    cardSize: 100
  - type: cards
    name: uploadedrecently
    order:
      - formula.filetitle
      - formula.trackedtags
    sort:
      - property: uploaded
        direction: DESC
    image: formula.image01
    cardSize: 100
